<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title th:text="${recipe.title}">Recipe</title>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body>

<header>
    <h2 class="logo">EatAndShare</h2>
    <nav class="navigation">
        <a th:href="@{/}">Home</a>
        <a th:href="@{/about}">About</a>
        <a th:href="@{/contact}">Contact</a>
        <a th:href="@{/services}">Share</a>
        <div class="icon-login" th:if="${loggedIn}">
            <ion-icon name="person-circle-outline"></ion-icon>
            <ul class="dropdown">
                <li><p th:text="'Username: ' + ${username}"></p></li>
                <li><p th:text="'Email: ' + ${email}"></p></li>
                <li><a th:href="@{/logout}">Logout</a></li>
            </ul>
        </div>
        <button class="btnLogin-popup" th:if="${!loggedIn}">Login</button>
    </nav>
</header>

<main style="max-width:1000px;margin:2rem auto;padding:0 1rem;">
    <article style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;">
        <div>
            <img th:if="${recipe.imgURL}" th:src="${recipe.imgURL}" alt=""
                 style="width:100%;height:auto;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.08);">
            <div th:if="${recipe.imgURL == null}" style="width:100%;height:320px;background:#f3f4f6;border-radius:16px;display:flex;align-items:center;justify-content:center;">
                <span>No image</span>
            </div>
        </div>

        <div>
            <h1 th:text="${recipe.title}">Recipe title</h1>
            <p style="color:#6b7280;margin:.25rem 0 1rem;">
                <span th:text="'By ' + ${recipe.user != null ? recipe.user.firstName + ' ' + recipe.user.lastName : 'Someone'}"></span>
                · <span th:text="${recipe.category != null ? recipe.category.categoryName : 'Uncategorized'}"></span>
            </p>

            <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                <span>Prep: <b th:text="${recipe.prepTimeMins}">0</b> min</span>
                <span>Cook: <b th:text="${recipe.cookTimeMins}">0</b> min</span>
                <span>Difficulty: <b th:text="${recipe.difficulty}">Medium</b></span>
            </div>

            <h3>Ingredients</h3>
            <ul style="margin: .5rem 0 1rem 1rem;">
                <li th:each="ri : ${recipe.recipeIngredients}"
                    th:text="${ri.ingredient.ingredientName} + ' — ' + ${ri.quantity} + ' ' + ${ri.unit}">
                    Ingredient — 2 cups
                </li>
            </ul>

            <h3>Instructions</h3>
            <p th:text="${recipe.instructions}"></p>
        </div>
    </article>
</main>
<footer class="footer" >
    <h2>EatAndShare</h2>
    <p>Cook • Share • Enjoy</p>

    <small>&copy; 2025 EatAndShare — All Rights Reserved</small>
</footer>

<script src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js" type="module"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
